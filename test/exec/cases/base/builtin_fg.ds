
# invalid
assert { fg; $?; } == 1
assert "$(fg 2>&1)" == 'ydsh: fg: current: no such job'

assert { fg %hoge; $?; } == 1
assert "$(fg %hoge 2>&1)" == 'ydsh: fg: %hoge: no such job'

assert { fg %1; $?; } == 1
assert "$(fg %1 2>&1)" == 'ydsh: fg: %1: no such job'


sh -c 'kill -s STOP $$; exit 180'
assert $? == 128 + %'stop'.value()
assert { fg; $?; } == 180

assert { fg; $?; } == 1
assert "$(fg 2>&1)" == 'ydsh: fg: current: no such job'

sh -c 'kill -s TSTP $$; exit 18'
assert $? == 128 + %'tstp'.value()
assert { fg; $?; } == 18

true