
assert %'HUP' is Signal
assert %'HuP' as Any is Signal
assert %'Sighup'.name() == 'HUP'

assert %'TRAP' is Signal
assert %'tRAp'.name() == 'TRAP'

var s = $SIG['hUp']
assert $s as String == %'HUP' as String
$s = $SIG['sigterm']
assert $s as Any is Signal
assert $s.name() == 'TERM'
assert $SIG.get('sys')!.name() == 'SYS'

var a = '' as Any
try { $SIG['hogeud']; assert $false; } catch $e { $a = $e; }
assert $a is KeyNotFoundError

assert not $SIG.get('SIGCHILD')

assert $SIG.list()[0] is Signal

# kill
var e = 34 as Any
try {
    %'HUP'.kill(1);
    assert $false;
} catch $a {
    $e = $a
}

if $e is SystemError {
    assert $e.message() == if $OSTYPE != 'Cygwin' { 'HUP: Operation not permitted'; }
                                             else { 'HUP: No such process'; }
} else {
    assert $false
}
