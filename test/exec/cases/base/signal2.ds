var raised = 0

function f($s : Signal) {
    false;
    $raised++
}

function raise($s : String) {
    $SIG[$s].kill($PID)
}

$SIG.trap(%'HUP', $f)
$SIG.trap(%'term', $f)

true
$raise('hup')
assert $? == 0  # restore old exit status
assert $raised == 1


$raise("sigterm")
assert $raised == 2