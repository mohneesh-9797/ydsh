# for prompt string

# invalid
ps_intrp
assert($? != 0)
assert("$(ps_intrp 2>&1)" == 'ps_intrp: ps_intrp [prompt string]')

# interpret
assert("$(ps_intrp '\H')" == "$(hostname)")
assert("$(ps_intrp '\h')" == "$(hostname)".split('.')[0])
assert("$(ps_intrp '\n')" == "$(echo -e '\n')")
assert("$(ps_intrp '\r')" == "$(echo -e '\r')")
assert("$(ps_intrp '\s')" == "$(basename $0)")
assert("$(ps_intrp '\u')" == "$(whoami)")
assert("$(ps_intrp '\w')" == $PWD)

var u = "$(ps_intrp '\$')"
if("$(id -u)" == "$(id -u root)") { # root
    assert($u == '#')
} else {    # non-root
    assert($u == '$')
}

assert("$(ps_intrp '\\')" == "$(echo -e '\\')")
ps_intrp '\a'   # bell
assert("$(ps_intrp 'hoge')" == "hoge")
