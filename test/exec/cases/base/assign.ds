# global
var a = 0
$a += 1
assert($a == 1)
$a *= 2
assert($a == 2)
$a /= 2
assert($a == 1)
$a %= 1
assert($a == 0)
$a -= 1
assert($a == -1)

var b = 1i64
$b *= 99
assert($b == 99)

var s = 'he'
$s += 'llo'
assert $s == "hello"

# local
{
    var a = 0
    $a += 1
    assert($a == 1)
    $a *= 2
    assert($a == 2)
    $a /= 2
    assert($a == 1)
    $a %= 1
    assert($a == 0)
    $a -= 1
    assert($a == -1)

    var s = ''
    $s += "ab"
    assert($s == 'ab')
    $s = ''
    assert $s.empty()
}

# field
var t = (0, 12, 4i64)
$t._0 += 1
assert($t._0 == 1)
$t._0 *= 2
assert($t._0 == 2)
$t._0 /= 2
assert($t._0 == 1)
$t._0 %= 1
assert($t._0 == 0)
$t._0 -= 1
assert($t._0 == -1)

$t._1 -= 10
assert($t._1 == 2)
$t._2 /= 4
assert($t._2 == 1i64)

var t2 = ("", 23)
$t2._0 += "abcd"
assert $t2._0 == "abcd"
$t2._0 = ''
assert $t2._0.empty()

# indexer
var i = [0]
$i[0] += 1
assert($i[0] == 1)
$i[0] *= 2
assert($i[0] == 2)
$i[0] /= 2
assert($i[0] == 1)
$i[0] %= 1
assert($i[0] == 0)
$i[0] -= 1
assert($i[0] == -1)

var w = ["a" : 1]
$w["a"] += 23
assert($w["a"] == 24)

var i2 = [0 : "12"]
$i2[0] += "34"
assert $i2[0] == "1234"
